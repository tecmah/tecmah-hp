---
import Layout from "../layouts/Layout.astro";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";
import PageHero from "../components/PageHero.astro";
import CTASection from "../components/CTASection.astro";

const featureCheckSvg = `
  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
  </svg>
`;
const connectorSvg = `
  <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
  </svg>
`;

const services = [
  {
    id: "ai-data",
    title: "生成AI・データ活用支援",
    description:
      "生成AIの活用構想からPoC、運用ガバナンスまで伴走し、事業インパクトを実現します。",
    icon: `
      <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
      </svg>
    `,
    iconVariant: "service-icon-1",
    features: [
      "Azure OpenAI / GPT-4o導入支援",
      "PoC構築・運用体制整備",
      "MLOps基盤構築・運用",
      "プロンプト設計・評価・改善",
    ],
    href: "/services/ai-data",
  },
  {
    id: "product-management",
    title: "PdM/PM伴走・プロダクトマネジメント",
    description:
      "戦略立案からロードマップ、開発体制構築、リリース運用まで一貫したPdM/PM伴走を提供します。",
    icon: `
      <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" />
      </svg>
    `,
    iconVariant: "service-icon-2",
    features: [
      "市場・ユーザー調査・分析",
      "アジャイル導入・スクラム推進",
      "開発チーム運営・マネジメント",
      "PdM人材育成・内製化支援",
    ],
    href: "/services/product-management",
  },
  {
    id: "dx-consulting",
    title: "新規事業・DXコンサルティング",
    description:
      "市場検証・事業計画・KPI設計・オペレーション構築まで、成長を見据えたDX/新規事業を伴走します。",
    icon: `
      <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
      </svg>
    `,
    iconVariant: "service-icon-3",
    features: [
      "カスタマーインタビュー・検証",
      "事業計画・KPI設計・運用",
      "業務プロセス可視化・改善",
      "アライアンス戦略・パートナリング",
    ],
    href: "/services/dx-consulting",
  },
];
---

<Layout title="サービス一覧 | 株式会社TECMAH - AI・データ活用とPdM支援">
  <Header />
  <main>
    <PageHero
      titleHtml='<span class="gradient-text">サービス一覧</span>'
      subtitleHtml="生成AIとプロダクトマネジメントの専門知識で、<br />お客様の事業成長を包括的に支援します。"
    />

    <!-- Services Overview -->
    <section class="section">
      <div class="container">
        <div class="services-grid">
          {services.map((service) => (
            <div class="service-card" data-service={service.id}>
              <div class="card-gradient-line"></div>
              <div class={`service-icon ${service.iconVariant}`} set:html={service.icon} />
              <h3 class="service-title">{service.title}</h3>
              <p class="service-description">{service.description}</p>

              <div class="service-features">
                <h4 class="features-label">主要サービス内容</h4>
                <ul>
                  {service.features.map((feature) => (
                    <li>
                      <span class="feature-check" set:html={featureCheckSvg} />
                      {feature}
                    </li>
                  ))}
                </ul>
              </div>

              <a href={service.href} class="service-link">
                <span>詳細を見る</span>
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                </svg>
              </a>
            </div>
          ))}
        </div>
      </div>
    </section>

    <!-- Consultation Process -->
    <section class="section section-alt">
      <div class="container">
        <div class="section-header">
          <h2 class="section-title">
            <span class="gradient-text">ご相談の流れ</span>
          </h2>
          <p class="section-description">
            初回相談から実装・運用まで、お客様に最適なアプローチをご提案します。
          </p>
        </div>

        <div class="process-grid">
          <div class="process-step">
            <div class="step-number">1</div>
            <h3 class="step-title">初回相談</h3>
            <p class="step-description">
              課題のヒアリングと<br />
              現状分析を実施
            </p>
          </div>

          <div class="process-connector">
            <Fragment set:html={connectorSvg} />
          </div>

          <div class="process-step">
            <div class="step-number">2</div>
            <h3 class="step-title">提案・見積</h3>
            <p class="step-description">
              最適なソリューション<br />
              とロードマップを提案
            </p>
          </div>

          <div class="process-connector">
            <Fragment set:html={connectorSvg} />
          </div>

          <div class="process-step">
            <div class="step-number">3</div>
            <h3 class="step-title">実装・運用</h3>
            <p class="step-description">
              チーム構成に応じて<br />
              伴走型で支援開始
            </p>
          </div>

          <div class="process-connector">
            <Fragment set:html={connectorSvg} />
          </div>

          <div class="process-step">
            <div class="step-number">4</div>
            <h3 class="step-title">成果検証</h3>
            <p class="step-description">
              KPI達成と内製化<br />
              に向けた移行支援
            </p>
          </div>
        </div>
      </div>
    </section>

    <CTASection
      titleHtml="どのサービスが最適か<br />無料で相談しませんか？"
      subtitleHtml="初回60分のオンラインセッションで、現状の課題をヒアリングし、<br />具体的な解決策とロードマップをご提案します。"
      primaryText="今すぐ無料相談を予約"
      primaryHref="/contact"
      secondaryText="事例を見る"
      secondaryHref="/case-studies"
    />
  </main>
  <Footer />
</Layout>

<style>
  /* Services Grid */
  .services-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 2rem;
  }

  @media (min-width: 1024px) {
    .services-grid {
      grid-template-columns: repeat(3, 1fr);
    }
  }

  /* Service Card */
  .service-card {
    position: relative;
    display: flex;
    flex-direction: column;
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: var(--radius-xl);
    padding: 2rem;
    transition: all var(--motion-duration) var(--motion-ease);
    overflow: hidden;
  }

  .service-card:hover {
    transform: translateY(-8px);
    border-color: var(--border-hover);
    box-shadow: var(--shadow-xl);
  }

  .card-gradient-line {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 3px;
    background: var(--gradient-primary);
    opacity: 0;
    transition: opacity var(--motion-duration) var(--motion-ease);
  }

  .service-card:hover .card-gradient-line {
    opacity: 1;
  }

  .service-icon {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 64px;
    height: 64px;
    border-radius: var(--radius-lg);
    margin-bottom: 1.5rem;
    transition: transform var(--motion-duration) var(--motion-ease);
  }

  .service-card:hover .service-icon {
    transform: scale(1.1);
  }

  .service-icon-1 {
    background: linear-gradient(135deg, rgba(0, 212, 170, 0.15), rgba(99, 91, 255, 0.15));
    border: 1px solid rgba(0, 212, 170, 0.3);
    color: var(--primary);
  }

  .service-icon-2 {
    background: linear-gradient(135deg, rgba(99, 91, 255, 0.15), rgba(255, 107, 107, 0.15));
    border: 1px solid rgba(99, 91, 255, 0.3);
    color: var(--secondary);
  }

  .service-icon-3 {
    background: linear-gradient(135deg, rgba(255, 107, 107, 0.15), rgba(255, 217, 61, 0.15));
    border: 1px solid rgba(255, 107, 107, 0.3);
    color: var(--accent);
  }

  .service-title {
    font-size: 1.25rem;
    font-weight: 700;
    color: var(--text);
    margin-bottom: 0.75rem;
  }

  .service-description {
    color: var(--text-secondary);
    line-height: 1.7;
    margin-bottom: 1.5rem;
  }

  .service-features {
    flex: 1;
    margin-bottom: 1.5rem;
  }

  .features-label {
    font-size: 0.875rem;
    font-weight: 600;
    color: var(--text);
    margin-bottom: 1rem;
  }

  .service-features ul {
    list-style: none;
    padding: 0;
    margin: 0;
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
  }

  .service-features li {
    display: flex;
    align-items: flex-start;
    gap: 0.75rem;
    font-size: 0.9375rem;
    color: var(--text-secondary);
  }

  .feature-check {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 20px;
    height: 20px;
    background: rgba(0, 212, 170, 0.1);
    border-radius: 50%;
    color: var(--primary);
    flex-shrink: 0;
    margin-top: 1px;
  }

  .service-link {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 0.9375rem;
    font-weight: 600;
    color: var(--primary);
    padding-top: 1rem;
    border-top: 1px solid var(--border);
    transition: all var(--motion-duration) var(--motion-ease);
  }

  .service-link:hover {
    color: var(--primary-light);
    gap: 0.75rem;
  }

  .service-link svg {
    transition: transform var(--motion-duration) var(--motion-ease);
  }

  .service-link:hover svg {
    transform: translateX(4px);
  }

  /* Section Header */
  .section-header {
    text-align: center;
    max-width: 48rem;
    margin: 0 auto 4rem;
  }

  .section-title {
    font-size: clamp(2rem, 4vw, 3rem);
    font-weight: 800;
    color: var(--text);
    margin-bottom: 1rem;
  }

  .section-description {
    font-size: 1.25rem;
    color: var(--text-secondary);
  }

  /* Process Grid */
  .process-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 1.5rem;
    align-items: center;
  }

  @media (min-width: 768px) {
    .process-grid {
      grid-template-columns: 1fr auto 1fr auto 1fr auto 1fr;
      gap: 1rem;
    }
  }

  .process-step {
    text-align: center;
    padding: 1.5rem;
  }

  .step-number {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 56px;
    height: 56px;
    border-radius: 50%;
    background: var(--gradient-secondary);
    font-size: 1.25rem;
    font-weight: 700;
    color: white;
    margin-bottom: 1rem;
    box-shadow: var(--shadow-glow-secondary);
  }

  .step-title {
    font-size: 1.125rem;
    font-weight: 700;
    color: var(--text);
    margin-bottom: 0.5rem;
  }

  .step-description {
    font-size: 0.875rem;
    color: var(--text-muted);
    line-height: 1.6;
  }

  .process-connector {
    display: none;
    color: var(--text-muted);
  }

  @media (min-width: 768px) {
    .process-connector {
      display: flex;
      align-items: center;
      justify-content: center;
    }
  }

  @media (prefers-reduced-motion: reduce) {
    .service-card,
    .service-icon,
    .service-link,
    .service-link svg {
      transition: none;
    }

    .service-card:hover {
      transform: none;
    }
  }
</style>
